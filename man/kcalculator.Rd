% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/help_functions.R
\name{kcalculator}
\alias{kcalculator}
\title{Calculate feasible k for 1-to-k matching}
\usage{
kcalculator(factorco, Z, verbose = FALSE)
}
\arguments{
\item{factorco}{A categorical variable used for fine balance.}

\item{Z}{A binary (0/1) treatment indicator vector of the same length as \code{factorco}.}

\item{verbose}{Logical; if \code{TRUE}, prints diagnostic messages. Default is \code{FALSE}.}
}
\value{
A list with components:
\item{k}{Maximum feasible matching ratio \code{k}, or \code{NULL} if infeasible.}
\item{role}{Dominance type: \code{"control_dominant"}, \code{"treated_dominant"},
  \code{"mixed"}, or \code{"infeasible"}.}
\item{flip}{Logical; \code{TRUE} if roles should be flipped, otherwise \code{FALSE}.
           \code{FALSE} means more controls}
\item{levels}{Character vector of levels with both treated and control units.}
}
\description{
Computes the largest feasible matching ratio \code{k} between treated and
control units within the levels of a categorical covariate. The function
reports whether controls or treated units dominate, and whether roles
should be flipped to achieve 1-to-k matching.
}
